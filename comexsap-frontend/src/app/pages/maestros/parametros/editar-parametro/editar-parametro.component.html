<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="parametroForm" novalidate (keydown.enter)="$event.preventDefault()">
          <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="comex-tabs nav-tabs">
            <li [ngbNavItem]="1">
              <a ngbNavLink><i class="pi pi-file"></i> Maestro de Parámetro</a>
              <ng-template ngbNavContent>
                <div class="row container-title">
                  <div class="col-sm-6 title">
                    <label class="title-line"></label>Parámetro
                  </div>
                  <div class="col-sm-6 mt-2 mt-sm-0 d-flex justify-content-end">
                    <button class="btn btn-info" (click)="guardar()">Guardar</button>
                  </div>
                </div>

                <div class="comex-container-maestro">
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="form-control-label">Código<span class="required-asterisk">*</span></label>
                        <input type="text" class="form-control" placeholder="Código" formControlName="codigo">
                        <div *ngIf="parametroForm.controls['codigo'].invalid && parametroForm.controls['codigo'].touched">
                          <div *ngIf="parametroForm.controls['codigo'].errors.required" class="invalid-feedback">Este campo es requerido</div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="form-control-label">Nombre Parámetro<span class="required-asterisk">*</span></label>
                        <input type="text" class="form-control" placeholder="Ingrese nombre del parámetro" formControlName="descripcion">
                        <div *ngIf="parametroForm.controls['descripcion'].invalid && parametroForm.controls['descripcion'].touched">
                          <div *ngIf="parametroForm.controls['descripcion'].errors.required" class="invalid-feedback">Este campo es requerido</div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="form-control-label">Maestro<span class="required-asterisk">*</span></label>
                        <ng-select
                          formControlName="codigoDominio"
                          [items]="dominios"
                          bindLabel="descripcionLarga"
                          bindValue="codigo"
                          placeholder="Buscar código o nombre">
                        </ng-select>
                        <div *ngIf="parametroForm.controls['codigoDominio'].invalid && parametroForm.controls['codigoDominio'].touched">
                          <div *ngIf="parametroForm.controls['codigoDominio'].errors.required" class="invalid-feedback">Este campo es requerido</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </li>
          </ul>
          <div [ngbNavOutlet]="nav" class="mt-2"></div>
        </form>

        <label class="required-field"><span class="required-asterisk">*</span> Campos Obligatorios</label>
      </div>
    </div>
  </div>
</div>

<ng-template #modalConfirmacionExitosa let-modalConfirmacionExitosa>
  <div class="modal-header">
    <h4 class="modal-title">Parámetro</h4>
  </div>
  <div class="modal-body">
    <p>El parámetro se guardó de manera exitosa.</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="irAlListado(); modalConfirmacionExitosa.close();">Entendido</button>
  </div>
</ng-template>

<p-toast position="top-right" [baseZIndex]="9000" autoZIndex="false"></p-toast>

<router-outlet></router-outlet>
