<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.caasa.comexsap.exportaciones.model.persistence.extended.ExportacionMaritimoExtendedMapper">

	<resultMap id="exportacionMaritimoMap" type="com.caasa.comexsap.exportaciones.model.to.ExportacionMaritimoTO">
		<id column="ID" jdbcType="NUMERIC" property="id" />
		<result column="CODIGO" jdbcType="VARCHAR" property="codigo" />
		<result column="CODIGOPACKING" jdbcType="VARCHAR" property="codigoPacking" />
		<result column="CONSIGNATARIO" jdbcType="VARCHAR" property="consignatario" />
		<result column="DIRECCIONCONSIGNATARIO" jdbcType="VARCHAR" property="direccionConsignatario" />
		<result column="NOTIFICANTE" jdbcType="VARCHAR" property="notificante" />
		<result column="DIRECCIONNOTIFICANTE" jdbcType="VARCHAR" property="direccionNotificante" />
		<result column="SHIPPER" jdbcType="VARCHAR" property="shipper" />
		<result column="DIRECCIONSHIPPER" jdbcType="VARCHAR" property="direccionShipper" />
		<result column="DESCRIPCION_TOTAL" jdbcType="VARCHAR" property="descripcionTotal" />
		<result column="GLOSA" jdbcType="VARCHAR" property="glosa" />
		<result column="ORDEN_INTERNA" jdbcType="VARCHAR" property="ordenInterna" />
		<result column="BOOKING" jdbcType="VARCHAR" property="booking" />
		<result column="BL" jdbcType="VARCHAR" property="bl" />
		<result column="TIPOENVIO" jdbcType="VARCHAR" property="tipoEnvio" />
		<result column="GUIADHL" jdbcType="VARCHAR" property="guiaDhl" />
		<result column="NAVE" jdbcType="VARCHAR" property="nave" />
		<result column="FLETE" jdbcType="NUMERIC" property="flete" />
		<result column="SEGURO" jdbcType="NUMERIC" property="seguro" />
		<result column="NUMEROCONTENEDOR" jdbcType="NUMERIC" property="numeroContenedor" />
		<result column="ETAORIGEN" jdbcType="DATE" property="etaOrigen" />
		<result column="FECHABLPROGRAMADO" jdbcType="DATE" property="fechaBlProgramado" />
		<result column="FECHACARGUIO" jdbcType="DATE" property="fechaCarguio" />
		<result column="FECHAMAXIMAINGRESO" jdbcType="DATE" property="fechaMaximaIngreso" />
		<result column="FECHAREAL" jdbcType="DATE" property="fechaBlReal" />
		<result column="ETADESTINO" jdbcType="DATE" property="etaDestino" />
		<result column="FECHAENVIODOCUMENTO" jdbcType="DATE" property="fechaEnvioDocum" />
		<result column="FECHAMANIFIESTOADUANA" jdbcType="DATE" property="fechaManifAduana" />
		<result column="FECHALEVANTE" jdbcType="DATE" property="fechaLevante" />
		<result column="FECHACRTFIRMADO" jdbcType="DATE" property="fechaCrtFirmado" />
		<result column="FECHATRANSITO" jdbcType="DATE" property="fechaTransito" />
		<result column="FECHAENTREGADUA" jdbcType="DATE" property="fechaEntregaDua" />
		<result column="INICIOEMBARQUE" jdbcType="DATE" property="inicioEmbarque" />
		<result column="DAM" jdbcType="VARCHAR" property="dam" />
		<result column="DAM41" jdbcType="VARCHAR" property="dam41" />
		<result column="FECHAENTREGA" jdbcType="DATE" property="fechaEntrega" />
		<result column="FECHADAM" jdbcType="DATE" property="fechaDam" />
		<result column="FECHADAMREGULARIZACION" jdbcType="DATE" property="fechaDamRegularizacion" />
		<result column="FECHADAM41" jdbcType="DATE" property="fechaDam41" />
		<result column="FECHARECEPCIONDAM41" jdbcType="DATE" property="fechaRecepcionDam41" />    
		<result column="AGENTEADUANA" jdbcType="VARCHAR" property="agenteAduana" />
		<result column="MESDESPACHO" jdbcType="VARCHAR" property="mesDespacho" />
		<result column="DATAANTERIOR" jdbcType="VARCHAR" property="dataAnterior" />
		<result column="DATAANTERIOR2" jdbcType="VARCHAR" property="dataAnterior2" />
		<result column="IDCLIENTE" jdbcType="NUMERIC" property="idCliente" />
		<result column="CODIGOSAPCLIENTE" jdbcType="VARCHAR" property="codigoSapCliente" />
		<result column="NOMBRECLIENTE" jdbcType="VARCHAR" property="nombreCliente" />
		<result column="CALLECLIENTE" jdbcType="VARCHAR" property="calleCliente" />
		<result column="RUCCLIENTE" jdbcType="VARCHAR" property="rucCliente" />
		<result column="IDDESTINATARIO" jdbcType="NUMERIC" property="idDestinatario" />
		<result column="CODIGOSAPDESTINATARIO" jdbcType="VARCHAR" property="codigoSapDestinatario" />
		<result column="NOMBREDESTINATARIO" jdbcType="VARCHAR" property="nombreDestinatario" />
		<result column="CALLEDESTINATARIO" jdbcType="VARCHAR" property="calleDestinatario" />  
		<result column="RUCDESTINATARIO" jdbcType="VARCHAR" property="rucDestinatario" />
		<result column="IDDESTINATARIOMERCANCIA" jdbcType="NUMERIC" property="idDestinatarioMercancia" />
		<result column="CODIGOSAPDESTINATARIOMERCANCIA" jdbcType="VARCHAR" property="codigoSapDestinatMerc" />
		<result column="NOMBREDESTINATARIOMERCANCIA" jdbcType="VARCHAR" property="nombreDestinatMerc" />
		<result column="CALLEDESTINATARIOMERCANCIA" jdbcType="VARCHAR" property="calleDestinatMerc" />
		<result column="RUCDESTINATARIOMERCANCIA" jdbcType="VARCHAR" property="rucDestinatMerc" />
		<result column="IDCONDICIONPAGO" jdbcType="NUMERIC" property="idCondicionPago" />
		<result column="CODIGOCONDICIONPAGO" jdbcType="VARCHAR" property="codigoCondicionPago" />
		<result column="NOMBRECONDICIONPAGO" jdbcType="VARCHAR" property="nombreCondicionPago" />
		<result column="IDPUERTOORIGEN" jdbcType="NUMERIC" property="idPuertoOrigen" />
		<result column="CODIGOSAPPUERTOORIGEN" jdbcType="VARCHAR" property="codigoSapPuertoOrigen" />
		<result column="PUERTOORIGEN" jdbcType="VARCHAR" property="puertoOrigen" />
		<result column="IDPAISPUERTOORIGEN" jdbcType="NUMERIC" property="idPaisPuertoOrigen" />
		<result column="PAISPUERTOORIGEN" jdbcType="VARCHAR" property="paisPuertoOrigen" />
		<result column="CODIGOSAPPAISPUERTOORIGEN" jdbcType="VARCHAR" property="codigoPaisPuertoOrig" />
		<result column="PAISDESCRIPCIONORIGEN" jdbcType="VARCHAR" property="paisDescripOrigen" />
		<result column="IDPUERTODESTINO" jdbcType="NUMERIC" property="idPuertoDestino" />
		<result column="CODIGOSAPPUERTODESTINO" jdbcType="VARCHAR" property="codigoPuertoDestino" />
		<result column="PUERTODESTINO" jdbcType="VARCHAR" property="puertoDestino" />
		<result column="IDPAISPUERTODESTINO" jdbcType="NUMERIC" property="idPaisPuertoDestino" />  
		<result column="PAISPUERTODESTINO" jdbcType="VARCHAR" property="paisPuertoDestino" />  
		<result column="PAISDESCRIPCIONDESTINO" jdbcType="VARCHAR" property="paisDescripDestino" />  
		<result column="CODIGOPAISSAPPUERTODESTINO" jdbcType="VARCHAR" property="codigoPaisPuertoDestino" />  
		<result column="IDCENTRO" jdbcType="NUMERIC" property="idCentro" />  
		<result column="CODIGOSAPCENTRO" jdbcType="VARCHAR" property="codigoCentro" />  
		<result column="DESCRIPCIONCENTRO" jdbcType="VARCHAR" property="descripCentro" />  
		<result column="IDDESTINO" jdbcType="NUMERIC" property="idDestino" />  
		<result column="CODIGOSAPDESTINO" jdbcType="VARCHAR" property="codigoDestino" />  
		<result column="NOMBREDESTINO" jdbcType="VARCHAR" property="nombreDestino" />  
		<result column="DESCRIPCIONDESTINO" jdbcType="VARCHAR" property="descripDestino" />  
		<result column="ORIGEN" jdbcType="VARCHAR" property="origen" />  
		<result column="CODIGOORIGEN" jdbcType="VARCHAR" property="codigoOrigen" />  
		<result column="DESTINO" jdbcType="VARCHAR" property="destino" />  
		<result column="CODIGODESTINO" jdbcType="VARCHAR" property="codigoDestino" />  
		<result column="IDTIPOTRANSPORTE" jdbcType="NUMERIC" property="idTipoTransporte" />  
		<result column="NOMBRETRANSPORTE" jdbcType="VARCHAR" property="nombreTransporte" />  
		<result column="DESCRIPCIONTRANSPORTE" jdbcType="VARCHAR" property="descripTransporte" />  
		<result column="IDINCOTERM" jdbcType="NUMERIC" property="idIncoterm" /> 
		<result column="NOMBREINCOTERM" jdbcType="VARCHAR" property="nombreIncoterm" />  
		<result column="CODIGOINCOTERM" jdbcType="VARCHAR" property="codigoIncoterm" />  
		<result column="IDINCOTERMCOMERCIAL" jdbcType="NUMERIC" property="idIncotermComercial" />  
		<result column="CODIGOINCOTERMCOMERCIAL" jdbcType="VARCHAR" property="codigoIncotermComercial" />  
		<result column="NOMBREINCOTERMCOMERCIAL" jdbcType="VARCHAR" property="nombreIncotermComercial" />  
		<result column="IDDESPACHO" jdbcType="NUMERIC" property="idDespacho" />  
		<result column="NOMBREDESPACHO" jdbcType="VARCHAR" property="nombreDespacho" />  
		<result column="DESCRIPCIONDESPACHO" jdbcType="VARCHAR" property="descripDespacho" />  
		<result column="IDAGENTEADUANA" jdbcType="NUMERIC" property="idAgenteAduana" />  
		<result column="IDAGENTECARGA" jdbcType="NUMERIC" property="idAgenteCarga" />  
		<result column="CODIGOAGENTECARGA" jdbcType="VARCHAR" property="codigoAgenteCarga" />  
		<result column="NOMBREAGENTECARGA" jdbcType="VARCHAR" property="nombreAgenteCarga" />  
		<result column="AGENTECARGA" jdbcType="VARCHAR" property="agenteCarga" />  
		<result column="IDAGENTENAVIERA" jdbcType="NUMERIC" property="idAgenteNaviera" />  
		<result column="CODIGOAGENTENAVIERA" jdbcType="VARCHAR" property="codigoAgenteNaviera" />  
		<result column="NOMBREAGENTENAVIERA" jdbcType="VARCHAR" property="nombreAgenteNaviera" />  
		<result column="AGENTENAVIERA" jdbcType="VARCHAR" property="agenteNaviera" />  
		<result column="EMPRESATRANSPORTE" jdbcType="VARCHAR" property="empresaTransporte" />  
		<result column="CANTIDAD" jdbcType="NUMERIC" property="cantidad" />  
		<result column="IDSERVICIOCABECERA" jdbcType="NUMERIC" property="idServicioCabecera" />  
		<result column="CANTIDADTONELADA" jdbcType="NUMERIC" property="cantidadTonelada" />  
		<result column="DIACARGA" jdbcType="NUMERIC" property="diaCarga" />  
		<result column="NUMEROJORNADA" jdbcType="NUMERIC" property="numeroJornada" />  
		<result column="NUMEROFACTURA" jdbcType="NUMERIC" property="numeroFactura" />  
		<result column="NUMERODAM" jdbcType="NUMERIC" property="numeroDam" />  
		<result column="CABECERANUMEROCONTENEDOR" jdbcType="NUMERIC" property="cabeceraNroContenedor" />  
		<result column="NUMEROBL" jdbcType="NUMERIC" property="numeroBl" />  
		<result column="TIPOCAMBIO" jdbcType="NUMERIC" property="tipoCambio" />  
		<result column="ATENDIDO" jdbcType="VARCHAR" property="atendido" />  
		<result column="CANALCONTROLEXPORTACION" jdbcType="VARCHAR" property="canalControlExport" />  
		<result column="ORDENAGENTEADUANA" jdbcType="VARCHAR" property="ordenAgenteAduana" />  
		<result column="ESTADOORDEN" jdbcType="VARCHAR" property="estadoOrden" />  
		<result column="TIEMPOREGULARIZACIONDAM41" jdbcType="NUMERIC" property="tiempoRegulDam41" />  
		<result column="COMENTARIO" jdbcType="VARCHAR" property="comentario" />  
		<result column="PESOREAL" jdbcType="NUMERIC" property="pesoReal" />  
		<result column="IDFACTURA" jdbcType="NUMERIC" property="idFactura" />  
		<result column="CLASEEXPEDICION" jdbcType="VARCHAR" property="claseExpedicion" />  
		<result column="ESTADOFACTURA" jdbcType="VARCHAR" property="estadoFactura" />  
		<result column="FECHASALIDAFACTURA" jdbcType="DATE" property="fechaSalidaFactura" />  
		<result column="CODIGOSAPFACTURA" jdbcType="VARCHAR" property="codigoFactura" />  
		<result column="ORGANIZACIONVENTAFACTURA" jdbcType="VARCHAR" property="orgVentaFactura" />  
		<result column="CANALFACTURA" jdbcType="VARCHAR" property="canalFactura" />  
		<result column="SECTORFACTURA" jdbcType="VARCHAR" property="sectorFactura" />  
		<result column="FOLIOFACTURA" jdbcType="VARCHAR" property="folioFactura" />  
		<result column="SERIEFACTURA" jdbcType="VARCHAR" property="serieFactura" />  
		<result column="SERIECODIGOFACTURA" jdbcType="VARCHAR" property="serieCodFactura" />  
		<result column="FECHAFACTURA" jdbcType="DATE" property="fechaFactura" />  
		<result column="HORASUNATFACTURA" jdbcType="VARCHAR" property="horaSunatFactura" />  
		<result column="IMPORTEFACTURA" jdbcType="NUMERIC" property="importeFactura" />  
		<result column="FOLIONOTACREDITO" jdbcType="VARCHAR" property="folioNotaCredito" />  
		<result column="CODIGOSAPNOTACREDITO" jdbcType="VARCHAR" property="codigoNotaCredito" />  
		<result column="IDREGIMEN" jdbcType="NUMERIC" property="idRegimen" />  
		<result column="CODIGOREGIMEN" jdbcType="VARCHAR" property="codigoRegimen" />  
		<result column="NOMBREREGIMEN" jdbcType="VARCHAR" property="nombreRegimen" />  
		<result column="DESCRIPCIONREGIMEN" jdbcType="VARCHAR" property="descripRegimen" />  
		<result column="FECHALISTAPRECIO" jdbcType="DATE" property="fechaListaPrecio" />  
		<result column="IDLISTAPRECIO" jdbcType="NUMERIC" property="idListaPrecio" />  
		<result column="CODIGOLISTAPRECIO" jdbcType="VARCHAR" property="codigoListaPrecio" />  
		<result column="NOMBRELISTAPRECIO" jdbcType="VARCHAR" property="nombreListaPrecio" />  
		<result column="IDRUTA" jdbcType="NUMERIC" property="idRuta" />  
		 <result column="CODIGORUTA" jdbcType="NUMERIC" property="codigoRuta" />   
		<result column="NOMBRERUTA" jdbcType="VARCHAR" property="nombreRuta" />  
		<result column="CODIGOMONEDA" jdbcType="VARCHAR" property="codigoMoneda" /> 
		<result column="IDMONEDA" jdbcType="NUMERIC" property="idMoneda" />  
		<result column="NOMBREMONEDA" jdbcType="VARCHAR" property="nombreMoneda" />  
		<result column="IDCARPETA" jdbcType="NUMERIC" property="idCarpeta" />  
		<result column="NODEID" jdbcType="VARCHAR" property="nodeId" />  
		<result column="NODEIDCONTROLGASTO" jdbcType="VARCHAR" property="nodeIdControlGasto" />  
		<result column="IDCARPETAPACKING" jdbcType="NUMERIC" property="idCarpetaPacking" />  
		<result column="NODEIDPACKING" jdbcType="VARCHAR" property="nodeIdPacking" />  
		<result column="IDESTADODOCUMENTO" jdbcType="NUMERIC" property="idEstadoDocumento" />  
		<result column="ESTADODOCUMENTOEXPORTACION" jdbcType="VARCHAR" property="estadodocumentoExport" />  
		<result column="IDESTADOCONTROLGASTO" jdbcType="NUMERIC" property="idEstadoContGast" />  
		<result column="IDESTADOPACKING" jdbcType="NUMERIC" property="idEstadoPacking" />  
		<result column="GUARDADOEXPORTACION" jdbcType="NUMERIC" property="guardadoExport" />  
		<result column="GUARDADOCONTROLGASTO" jdbcType="NUMERIC" property="guardadoControlGasto" />  
		<result column="GUARDADOPACKING" jdbcType="NUMERIC" property="guardadoPacking" />  
		<result column="IDMONEDASEGURO" jdbcType="NUMERIC" property="idMonedaSeguro" />  
		<result column="IDMONEDAFLETE" jdbcType="NUMERIC" property="idMonedaFlete" />  
		<result column="CODIGOSAPALMACEN" jdbcType="VARCHAR" property="codigoalmacen" />  
		<result column="DESCRIPCIONALMACEN" jdbcType="VARCHAR" property="descripcionAlmacen" />  
		<result column="EMITIDOEN" jdbcType="VARCHAR" property="emitidoEn" />  
		<result column="FECHAENTREGADOCUMENTARIA" jdbcType="DATE" property="fechaEntregaDocu" />  
		<result column="FECHAFACTURAPACKING" jdbcType="DATE" property="fechaFacturaPacking" />  
		<result column="ETIQUETAEMPAQUE" jdbcType="VARCHAR" property="etiquetaEmpaque" />  
		<result column="EMPAQUE" jdbcType="VARCHAR" property="empaque" />  
		<result column="ETIQUETAMARCA" jdbcType="VARCHAR" property="etiquetaMarca" />  
		<result column="MARCA" jdbcType="VARCHAR" property="marca" />  
		<result column="ETIQUETAUNIDADPRODUCTIVA" jdbcType="VARCHAR" property="etiquetaUnidProd" />  
		<result column="UNIDADPRODUCTIVA" jdbcType="VARCHAR" property="unidadProductiva" />  
		<result column="ETIQUETAPRECIOUNITARIO" jdbcType="VARCHAR" property="etiquetaPrecioUnitario" />  
		<result column="PRECIOUNITARIO" jdbcType="VARCHAR" property="precioUnitario" />  
		<result column="ETIQUETAFACTURACION" jdbcType="VARCHAR" property="etiquetaFacturacion" />  
		<result column="FACTURACION" jdbcType="VARCHAR" property="facturacion" />  
		<result column="ETIQUETAFORMAPAGO" jdbcType="VARCHAR" property="etiquetaFormaPago" />  
		<result column="FORMAPAGO" jdbcType="VARCHAR" property="formaPago" />  
		<result column="USUARIOCREACION" jdbcType="VARCHAR" property="usuarioCreacion" />  
		<result column="FECHACREACION" jdbcType="DATE" property="fechaCreacion" />  
		<result column="USUARIOMODIFICACION" jdbcType="VARCHAR" property="usuarioModificacion" />  
		<result column="FECHAMODIFICACION" jdbcType="DATE" property="fechaModificacion" />
		<result column="PEDIDOFIRME" jdbcType="VARCHAR" property="pedidoFirme" />
		<result column="ARMADOR" jdbcType="VARCHAR" property="armador" />
		<result column="FLETETM" jdbcType="NUMERIC" property="fleteTm" />
		<result column="PAISDESCRIPCIONDESTINO" jdbcType="VARCHAR" property="descripcionPaisPuerto" /> 
		<result column="INTERCOMPANY" jdbcType="NUMERIC" property="intercompany" />  
	</resultMap> 
  
	<resultMap id="exportacionMaritimoPosicionMap" type="com.caasa.comexsap.exportaciones.model.to.ExportacionMaritimoPosicionTO">
	    <id column="ID" jdbcType="NUMERIC" property="id" />
	    <result column="IDPEDIDO" jdbcType="NUMERIC" property="idPedido" />
	    <result column="CODIGOPEDIDO" jdbcType="NUMERIC" property="codigoPedido" />
	    <result column="ITEM" jdbcType="NUMERIC" property="item" />
	    <result column="IDPRODUCTO" jdbcType="NUMERIC" property="idProducto" />
	    <result column="IDPADRE" jdbcType="NUMERIC" property="idPadre" />
	    <result column="CODIGOSAPCLIENTE" jdbcType="VARCHAR" property="codigoSapCliente" />
	    <result column="DESCRIPCIONPRODUCTO" jdbcType="VARCHAR" property="descripcionProducto" />
	    <result column="DESCRIPCIONCOMERCIALPRODUCTO" jdbcType="VARCHAR" property="descripcionComercialProducto" />
	    <result column="CANTIDAD" jdbcType="NUMERIC" property="cantidad" />
	    <result column="CANTIDADVENTA" jdbcType="NUMERIC" property="cantidadVenta" />
	    <result column="FACTOR" jdbcType="NUMERIC" property="factor" />
	    <result column="IDUNIDADMEDIDA" jdbcType="NUMERIC" property="idUnidadMedida" />
	    <result column="CODIGOSAPUNIDADMEDIDA" jdbcType="VARCHAR" property="codigoSapUnidadMedida" />
	    <result column="DESCRIPCIONUNIDADMEDIDA" jdbcType="VARCHAR" property="descripcionUnidadMedida" />
	    <result column="IDUNIDADMEDIDAVENTA" jdbcType="NUMERIC" property="idUnidadMedidaVenta" />
	    <result column="CODIGOSAPUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="codigoSAPUnidadMedidaVenta" />
	    <result column="DESCRIPCIONUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="descripcionUnidadMedidaVenta" />
	    <result column="IDCENTRO" jdbcType="NUMERIC" property="idCentro" />
	    <result column="CODIGOSAPCENTRO" jdbcType="VARCHAR" property="codigoSapCentro" />
	    <result column="DESCRIPCIONCENTRO" jdbcType="VARCHAR" property="descripcionCentro" />
	    <result column="IDALMACEN" jdbcType="NUMERIC" property="idAlmacen" />
	    <result column="CODIGOSAPALMACEN" jdbcType="VARCHAR" property="codigoSapAlmacen" />
	    <result column="DESCRIPCIONALMACEN" jdbcType="VARCHAR" property="descripcionAlmacen" />
	    <result column="PESOTONELADA" jdbcType="NUMERIC" property="pesoTonelada" />
	    <result column="PESONOMINAL" jdbcType="NUMERIC" property="pesoNominal" />
	    <result column="CANTIDADCONVERSION" jdbcType="NUMERIC" property="cantidadConversion" />
	    <result column="FECHADISPONIBILIDAD" jdbcType="DATE" property="fechaDisponibilidad" />
	    <result column="PRECIOUNITARIO" jdbcType="NUMERIC" property="precioUnitario" />
	    <result column="PRECIOUNITARIOSAP" jdbcType="NUMERIC" property="precioUnitarioSap" />
	    <result column="IMPORTE" jdbcType="NUMERIC" property="importe" />
	    <result column="ESTADO" jdbcType="NUMERIC" property="estado" />
	    <result column="MENSAJESAP" jdbcType="VARCHAR" property="mensajeSap" />
	    <result column="BLOQUEO" jdbcType="VARCHAR" property="bloqueo" />
	    <result column="CANTIDADSALDO" jdbcType="NUMERIC" property="cantidadSaldo" />
	    <result column="CODIGOMONEDA" jdbcType="VARCHAR" property="codigoMoneda" />
	    <result column="CODIGOPARTIDAARANCELARIA" jdbcType="VARCHAR" property="codigoPartidaArancelaria" />
	    <result column="CODIGOSAP" jdbcType="VARCHAR" property="codigoSAP" />
	    <result column="CODIGOSAPUNIDADMEDIDACONVERSION" jdbcType="VARCHAR" property="codigoSapUnidadMedidaConv" />
	    <result column="COMPONENTETEXTO" jdbcType="VARCHAR" property="componenteTexto" />
	    <result column="ENTREGA" jdbcType="VARCHAR" property="entrega" />
	    <result column="FECHALISTAPRECIO" jdbcType="DATE" property="fechaListaPrecio" />
	    <result column="FOLIO" jdbcType="VARCHAR" property="folio" />
	    <result column="IDCLIENTE" jdbcType="NUMERIC" property="idCliente" />
	    <result column="IDCONDICIONPAGO" jdbcType="NUMERIC" property="idCondicionPago" />
	    <result column="IDDESTINATARIO" jdbcType="NUMERIC" property="idDestinatario" />
	    <result column="IDEXPORTACION" jdbcType="NUMERIC" property="idExportacion" />
	    <result column="IDINCOTERM" jdbcType="NUMERIC" property="idIncoterm" />
	    <result column="IDLISTAPRECIO" jdbcType="NUMERIC" property="idListaPrecio" />
	    <result column="IDMONEDA" jdbcType="NUMERIC" property="idMoneda" />
	    <result column="IDMONEDAPEDIDO" jdbcType="NUMERIC" property="idMonedaPedido" />
	    <result column="IDPAISPUERTODESTINO" jdbcType="NUMERIC" property="idPaisPuertoDestino" />
	    <result column="IDPARTIDAARANCELARIA" jdbcType="NUMERIC" property="idPartidaArancelaria" />
	    <result column="IDPOSICION" jdbcType="NUMERIC" property="idPosicion" />
	    <result column="IDPRODUCTO" jdbcType="NUMERIC" property="idProducto" />
	    <result column="IDPUERTOORIGEN" jdbcType="NUMERIC" property="idPuertoOrigen" />
	    <result column="IDRUTA" jdbcType="NUMERIC" property="idRuta" />
	    <result column="IDUNIDADMEDIDACONVERSION" jdbcType="NUMERIC" property="idUnidadMedidaConv" />
	    <result column="IMPORTE" jdbcType="NUMERIC" property="importe" />
	    <result column="ITEMSAP" jdbcType="NUMERIC" property="itemSap" />
	    <result column="NOMBREMONEDA" jdbcType="VARCHAR" property="nombreMoneda" />
	    <result column="NOMBREPARTIDAARANCELARIA" jdbcType="VARCHAR" property="nombrePartidaArancelaria" />
	    <result column="PEDIDOSAP" jdbcType="VARCHAR" property="pedidoSap" />
	    <result column="PRECIOUNITARIOCONVERSION" jdbcType="NUMERIC" property="precioUnitarioConv" />
	    <result column="REFERENCIA" jdbcType="VARCHAR" property="referencia" />
	    <result column="CODIGOLINEA" jdbcType="VARCHAR" property="codigoLinea" />
	 </resultMap>
	 
	 <resultMap id="pedidoPosicionMap" type="com.caasa.comexsap.exportaciones.model.to.ExportacionPedidoPosicionTO">
		<id column="ID" jdbcType="NUMERIC" property="id" />
		<result column="IDPEDIDO" jdbcType="NUMERIC" property="idPedido" />
		<result column="ITEM" jdbcType="NUMERIC" property="item" />
		<result column="IDPRODUCTO" jdbcType="NUMERIC" property="idProducto" />
		<result column="IDPADRE" jdbcType="NUMERIC" property="idPadre" />
		<result column="CODIGOPEDIDO" jdbcType="VARCHAR" property="codigoPedido" />
		<result column="CODIGOSAPCLIENTE" jdbcType="VARCHAR" property="codigoSapCliente" />
		<result column="DESCRIPCIONPRODUCTO" jdbcType="VARCHAR" property="descripcionProducto" />
		<result column="DESCRIPCIONCOMERCIALPRODUCTO" jdbcType="VARCHAR" property="descripcionComercialProducto" />
		<result column="CANTIDADSALDO" jdbcType="NUMERIC" property="cantidadSaldo" />
		<result column="CANTIDADTONELADA" jdbcType="NUMERIC" property="cantidadTonelada" />
		<result column="CANTIDAD" jdbcType="NUMERIC" property="cantidad" />
		<result column="CANTIDADMONEDA" jdbcType="NUMERIC" property="cantidadMoneda" /> 
		<result column="CANTIDADVENTA" jdbcType="NUMERIC" property="cantidadVenta" />
		<result column="FACTOR" jdbcType="NUMERIC" property="factor" />
		<result column="IDUNIDADMEDIDA" jdbcType="NUMERIC" property="idUnidadMedida" />
		<result column="CODIGOSAPUNIDADMEDIDA" jdbcType="VARCHAR" property="codigoSapUnidadMedida" />
		<result column="DESCRIPCIONUNIDADMEDIDA" jdbcType="VARCHAR" property="descripcionUnidadMedida" />
		<result column="IDUNIDADMEDIDAVENTA" jdbcType="NUMERIC" property="idUnidadMedidaVenta" />
		<result column="CODIGOSAPUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="codigoSapUnidadMedidaVenta" />
		<result column="DESCRIPCIONUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="descripcionUnidadMedidaVenta" />
		<result column="IDCENTRO" jdbcType="NUMERIC" property="idCentro" />
		<result column="CODIGOSAPCENTRO" jdbcType="VARCHAR" property="codigoSapCentro" />
		<result column="DESCRIPCIONCENTRO" jdbcType="VARCHAR" property="descripcionCentro" />
		<result column="IDALMACEN" jdbcType="NUMERIC" property="idAlmacen" />
		<result column="CODIGOSAPALMACEN" jdbcType="VARCHAR" property="codigoSapAlmacen" />
		<result column="DESCRIPCIONALMACEN" jdbcType="VARCHAR" property="descripcionAlmacen" />
		<result column="PESOTONELADA" jdbcType="NUMERIC" property="pesoTonelada" />
		<result column="PESONOMINAL" jdbcType="NUMERIC" property="pesoNominal" />
		<result column="FECHADISPONIBILIDAD" jdbcType="DATE" property="fechaDisponibilidad" />
		<result column="PRECIOUNITARIO" jdbcType="NUMERIC" property="precioUnitario" />
		<result column="PRECIOUNITARIOSAP" jdbcType="NUMERIC" property="precioUnitarioSap" />
		<result column="IMPORTE" jdbcType="NUMERIC" property="importe" />
		<result column="ESTADO" jdbcType="NUMERIC" property="estado" />
		<result column="CODIGOMONEDA" jdbcType="VARCHAR" property="codigoMoneda" />
		<result column="CODIGOSAP" jdbcType="VARCHAR" property="codigoSap" />
		<result column="IDCONDICIONPAGO" jdbcType="NUMERIC" property="idCondicionPago" />
		<result column="IDINCOTERM" jdbcType="NUMERIC" property="idIncoterm" />
		<result column="IDMONEDA" jdbcType="NUMERIC" property="idMoneda" />
		<result column="IMPORTE" jdbcType="NUMERIC" property="importe" />
		<result column="NOMBREMONEDA" jdbcType="VARCHAR" property="nombreMoneda" />
		<result column="UNIDADMEDIDABASE" jdbcType="VARCHAR" property="unidadMedida" />
		<result column="UNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="unidadMedidaVenta" />
		<result column="CODIGOLINEA" jdbcType="VARCHAR" property="codigoLinea" />
	</resultMap>
	
	<resultMap id="componenteMap" type="com.caasa.comexsap.exportaciones.model.to.ComponenteTO">
		<id column="ID" jdbcType="NUMERIC" property="id" />
		<result column="IDPEDIDO" jdbcType="NUMERIC" property="idPedido" />
		<result column="ITEM" jdbcType="NUMERIC" property="item" />
		<result column="IDPRODUCTO" jdbcType="NUMERIC" property="idProducto" />
		<result column="CODIGOSAP" jdbcType="VARCHAR" property="codigoSap" />
		<result column="DESCRIPCIONPRODUCTO" jdbcType="VARCHAR" property="descripcionProducto" />
		<result column="DESCRIPCIONCOMERCIALPRODUCTO" jdbcType="VARCHAR" property="descripcionComercialProducto" />
		<result column="CANTIDAD" jdbcType="NUMERIC" property="cantidad" />
		<result column="CANTIDADVENTA" jdbcType="NUMERIC" property="cantidadVenta" />
		<result column="FACTOR" jdbcType="NUMERIC" property="factor" />
		<result column="IDUNIDADMEDIDA" jdbcType="NUMERIC" property="idUnidadMedida" />
		<result column="CODIGOSAPUNIDADMEDIDA" jdbcType="VARCHAR" property="codigoSapUnidadMedida" />
		<result column="DESCRIPCIONUNIDADMEDIDA" jdbcType="VARCHAR" property="descripcionUnidadMedida" />
		<result column="IDUNIDADMEDIDAVENTA" jdbcType="NUMERIC" property="idUnidadMedidaVenta" />
		<result column="CODIGOSAPUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="codigoSapUnidadMedidaVenta" />
		<result column="DESCRIPCIONUNIDADMEDIDAVENTA" jdbcType="VARCHAR" property="descripcionUnidadMedidaVenta" />
		<result column="IDCENTRO" jdbcType="NUMERIC" property="idCentro" />
		<result column="CODIGOSAPCENTRO" jdbcType="VARCHAR" property="codigoSapCentro" />
		<result column="DESCRIPCIONCENTRO" jdbcType="VARCHAR" property="descripcionCentro" />
		<result column="IDALMACEN" jdbcType="NUMERIC" property="idAlmacen" />
		<result column="CODIGOSAPALMACEN" jdbcType="VARCHAR" property="codigoSapAlmacen" />
		<result column="DESCRIPCIONALMACEN" jdbcType="VARCHAR" property="descripcionAlmacen" />
		<result column="PESONOMINAL" jdbcType="NUMERIC" property="pesoNominal" />
		<result column="PESOTONELADA" jdbcType="NUMERIC" property="pesoTonelada" />
		<result column="CANTIDADTONELADA" jdbcType="NUMERIC" property="cantidadTonelada" />
		<result column="FECHADISPONIBILIDAD" jdbcType="DATE" property="fechaDisponibilidad" />
		<result column="PRECIOUNITARIO" jdbcType="NUMERIC" property="precioUnitario" />
		<result column="PRECIOUNITARIOSAP" jdbcType="NUMERIC" property="precioUnitarioSap" />
		<result column="IMPORTE" jdbcType="NUMERIC" property="importe" />
		<result column="IDPADRE" jdbcType="NUMERIC" property="idPadre" />
		<result column="ESTADO" jdbcType="NUMERIC" property="estado" />
	</resultMap>
	
	<resultMap id="exportacionFacturaMap" type="com.caasa.comexsap.exportaciones.model.to.ExportacionFacturaTO">
		<id column="ID" jdbcType="NUMERIC" property="id" />
		<result column="IDEXPORTACION" jdbcType="NUMERIC" property="idExportacion" />
		<result column="IDPEDIDO" jdbcType="NUMERIC" property="idPedido" />
		<result column="CODIGOPEDIDO" jdbcType="VARCHAR" property="codigoPedido" />
		<result column="FACTURA" jdbcType="VARCHAR" property="factura" />
		<result column="ETIQUETATOTAL" jdbcType="VARCHAR" property="etiquetaTotal" />
		<result column="ETIQUETAFLETE" jdbcType="VARCHAR" property="etiquetaFlete" />
		<result column="ETIQUETAIMPORTETOTAL" jdbcType="VARCHAR" property="etiquetaImporteTotal" />
		<result column="ETIQUETAUNIDADMEDIDA" jdbcType="VARCHAR" property="etiquetaUnidadMedida" />
		<result column="MONTOTOTAL" jdbcType="NUMERIC" property="montoTotal" />
		<result column="MONTOFLETE" jdbcType="NUMERIC" property="montoFlete" />
		<result column="MONTOIMPORTETOTAL" jdbcType="NUMERIC" property="montoImporteTotal" />
		<result column="ESTADO" jdbcType="NUMERIC" property="estado" />
	</resultMap>
	
	<resultMap id="facturaSapMap" type="com.caasa.comexsap.exportaciones.model.to.FacturaSapTO">
		<result column="CODIGOSAP" jdbcType="VARCHAR" property="codigoSap" />
		<result column="PEDIDOSAP" jdbcType="VARCHAR" property="pedidoSap" />
		<result column="FOLIO" jdbcType="VARCHAR" property="folio" />
		<result column="FECHA" jdbcType="DATE" property="fecha" />
		<result column="CLASE" jdbcType="VARCHAR" property="clase" />
		<result column="FLETE" jdbcType="NUMERIC" property="flete" />
		<result column="SEGURO" jdbcType="NUMERIC" property="seguro" />
		<result column="IMPORTEPOSICIONES" jdbcType="NUMERIC" property="importePosiciones" />
		<result column="FLETEPOSICIONES" jdbcType="NUMERIC" property="fletePosiciones" />
		<result column="SEGUROPOSICIONES" jdbcType="NUMERIC" property="seguroPosiciones" />
	</resultMap>
	
	<resultMap id="entregaSapMap" type="com.caasa.comexsap.exportaciones.model.to.EntregaSapTO">
		<result column="PEDIDOSAP" jdbcType="VARCHAR" property="pedidoSap" />
		<result column="ENTREGA" jdbcType="VARCHAR" property="entrega" />
	</resultMap>
	
  <sql id="Base_Column_List">
    AGENTEADUANA,
	AGENTECARGA,
	AGENTENAVIERA,
	ARMADOR,
    ATENDIDO,
	BL,
	BOOKING,
	CABECERANUMEROCONTENEDOR,
	CALLECLIENTE,
	CALLEDESTINATARIO,
	CALLEDESTINATARIOMERCANCIA,
	CANALCONTROLEXPORTACION,
	CANALFACTURA,
	CANTIDAD,
	CANTIDADTONELADA,
	CLASEEXPEDICION,
	CLASEFACTURA,
	CODIGO,
	CODIGOAGENTECARGA,
	CODIGOAGENTENAVIERA,
	CODIGOCONDICIONPAGO,
	CODIGODESTINO,
	CODIGOINCOTERM,
	CODIGOINCOTERMCOMERCIAL,
	CODIGOLISTAPRECIO,
	CODIGOMONEDA,
	CODIGOORIGEN,
	CODIGOPACKING,
	CODIGOPAISSAPPUERTODESTINO,
	CODIGOPAISSAPPUERTOORIGEN,
	CODIGOREGIMEN,
	CODIGORUTA,
	CODIGOSAPALMACEN,
	CODIGOSAPCENTRO,
	CODIGOSAPCLIENTE,
	CODIGOSAPDESTINATARIO,
	CODIGOSAPDESTINATARIOMERCANCIA,
	CODIGOSAPDESTINO,
	CODIGOSAPFACTURA,
	CODIGOSAPNOTACREDITO,
	CODIGOSAPPUERTODESTINO,
	CODIGOSAPPUERTOORIGEN,
	COMENTARIO,
	CONSIGNATARIO,
	DAM,
	DAM41,
	DATAANTERIOR,
	DATAANTERIOR2,
	DESCRIPCIONALMACEN,
	DESCRIPCIONCENTRO,
	DESCRIPCIONDESPACHO,
	DESCRIPCIONDESTINO,
	DESCRIPCIONREGIMEN,
	DESCRIPCION_TOTAL,
	DESCRIPCIONTRANSPORTE,
	DESTINO,
	DIACARGA,
	DIRECCIONCONSIGNATARIO,
	DIRECCIONNOTIFICANTE,
	DIRECCIONSHIPPER,
	EMITIDOEN,
	EMPAQUE,
	EMPRESATRANSPORTE,
	ESTADO,
	ESTADOCONTROLGASTO,
	ESTADODOCUMENTOEXPORTACION,
	ESTADOFACTURA,
	ESTADOORDEN,
	ESTADOPACKINGLIST,
	ETADESTINO,
	ETAORIGEN,
	ETIQUETAEMPAQUE,
	ETIQUETAFACTURACION,
	ETIQUETAFORMAPAGO,
	ETIQUETAMARCA,
	ETIQUETAPRECIOUNITARIO,
	ETIQUETAUNIDADPRODUCTIVA,
	IDINCOTERM,
	FACTURACION,
	FECHABLPROGRAMADO,
	FECHACARGUIO,
	FECHACREACION,
	FECHACRTFIRMADO,
	FECHADAM,
	FECHADAMREGULARIZACION,
	FECHADAM41,
	FECHAENTREGA,
	FECHAENTREGADOCUMENTARIA,
	FECHAENTREGADUA,
	FECHAENVIODOCUMENTO,
	FECHAFACTURA,
	FECHAFACTURAPACKING,
	FECHACRTFIRMADO,
	FECHALEVANTE,
	FECHALISTAPRECIO,
	FECHAMANIFIESTOADUANA,
	FECHAMAXIMAINGRESO,
	FECHAMODIFICACION,
	FECHAREAL,
	FECHARECEPCIONDAM41,
	FECHASALIDAFACTURA,
	FECHATRANSITO,
	FLETE,
	FLETETM,
	FOLIOFACTURA,
	FOLIONOTACREDITO,
	FORMAPAGO,
	GLOSA,
	GUARDADOCONTROLGASTO,
	GUARDADOEXPORTACION,
	GUARDADOPACKING,
	TIPOENVIO,
	GUIADHL,
	HORASUNATFACTURA,
	ID,
	IDAGENTEADUANA,
	IDAGENTECARGA,
	IDAGENTENAVIERA,
	IDALMACEN,
	IDCARPETA,
	IDCARPETAPACKING,
	IDCENTRO,
	IDCLIENTE,
	IDCONDICIONPAGO,
	IDDESPACHO,
	IDDESTINATARIO,
	IDDESTINATARIOMERCANCIA,
	IDDESTINO,
	IDESTADOCONTROLGASTO,
	IDESTADODOCUMENTO,
	IDESTADOPACKING,
	IDFACTURA,
	IDINCOTERMCOMERCIAL,
	IDLISTAPRECIO,
	IDMONEDA,
	IDMONEDAFLETE,
	IDMONEDASEGURO,
	IDPAISPUERTODESTINO,
	IDPAISPUERTOORIGEN,
	IDPUERTODESTINO,
	IDPUERTOORIGEN,
	IDREGIMEN,
	IDRUTA,
	IDSERVICIOCABECERA,
	IDTIPOTRANSPORTE,
	IMPORTEFACTURA,
	INICIOEMBARQUE,
	INTERCOMPANY,
	MARCA,
	MESDESPACHO,
	NAVE,
	NODEID,
	NODEIDCONTROLGASTO,
	NODEIDPACKING,
	NOMBREAGENTECARGA,
	NOMBREAGENTENAVIERA,
	NOMBRECLIENTE,
	NOMBRECONDICIONPAGO,
	NOMBREDESPACHO,
	NOMBREDESTINATARIO,
	NOMBREDESTINATARIOMERCANCIA,
	NOMBREDESTINO,
	NOMBREINCOTERM,
	NOMBREINCOTERMCOMERCIAL,
	NOMBRELISTAPRECIO,
	NOMBREMONEDA,
	NOMBREREGIMEN,
	NOMBRERUTA,
	NOMBRETRANSPORTE,
	NOTIFICANTE,
	NUMEROBL,
	NUMEROCONTENEDOR,
	NUMERODAM,
	NUMEROFACTURA,
	NUMEROJORNADA,
	ORDENAGENTEADUANA,
	ORDEN_INTERNA,
	ORGANIZACIONVENTAFACTURA,
	ORIGEN,
	PAISDESCRIPCIONDESTINO,
	PAISDESCRIPCIONORIGEN,
	PAISPUERTODESTINO,
	PAISPUERTOORIGEN,
	PEDIDOFIRME,
	PESOREAL,
	PRECIOUNITARIO,
	PUERTODESTINO,
	PUERTOORIGEN,
	RUCCLIENTE,
	RUCDESTINATARIO,
	RUCDESTINATARIOMERCANCIA,
	SECTORFACTURA,
	SEGURO,
	SERIECODIGOFACTURA,
	SERIEFACTURA,
	SHIPPER,
	TIEMPOREGULARIZACIONDAM41,
	TIPOCAMBIO,
	UNIDADPRODUCTIVA,
	USUARIOCREACION,
	USUARIOMODIFICACION
  </sql> 
  <select id="listarExportacionMaritimoxFiltro" resultMap="exportacionMaritimoMap" parameterType="String">	  
	SELECT 
	<include refid="Base_Column_List" />
	FROM 
	COMEXSVI_EXPORTACION_01
	WHERE ID IS NOT NULL
	AND IDTIPOTRANSPORTE = 1
	<if test="codigos.length > 0">
		AND CODIGO IN 
		<foreach collection="codigos" item="item" open="(" close=")" separator=",">
		 #{item}
		</foreach>	
	</if>
	<if test="codigosPedidoFirme.length > 0">
		AND PEDIDOFIRME IN 
		<foreach collection="codigosPedidoFirme" item="item" open="(" close=")" separator=",">
		 #{item}
		</foreach>	
	</if>
	<if test="fechaExpMaritimoInicio != '' and fechaExpMaritimoFin != ''">      
	       AND ( FECHACREACION BETWEEN TO_DATE (#{fechaExpMaritimoInicio}, 'yyyy-mm-dd') AND 
	        TO_DATE(#{fechaExpMaritimoFin}, 'yyyy-mm-dd') + INTERVAL '1' DAY)
	   </if>
	<if test="clientes.length > 0">
		AND CODIGOSAPCLIENTE IN 
		<foreach collection="clientes" item="item" open="(" close=")" separator=",">
		 #{item}
		</foreach>	
	</if>
	<if test="pagos.length > 0">
		AND IDCONDICIONPAGO IN 
		<foreach collection="pagos" item="item" open="(" close=")" separator=",">
		 #{item}
		</foreach>	
	</if>
	<if test="idDespacho != 0">
		AND IDDESPACHO = #{idDespacho}
	</if>
	AND INTERCOMPANY = #{intercompany}
	ORDER BY FECHACREACION DESC
  </select> 
  <select id="obtenerExportacionMaritimoxId" resultMap="exportacionMaritimoMap" parameterType="int">	  
	SELECT 
	<include refid="Base_Column_List" />
	FROM 
	COMEXSVI_EXPORTACION_01
	WHERE ID = #{idDocumento}
	AND ROWNUM <![CDATA[ <= ]]> 1
  </select> 
  <select id="listarPosicionxIdExportacion" resultMap="exportacionMaritimoPosicionMap" parameterType="int">	  
	SELECT 
    BLOQUEO,
	CANTIDAD,
	CANTIDADCONVERSION,
	CANTIDADSALDO,
	CANTIDADVENTA,
	CODIGOMONEDA,
	CODIGOPARTIDAARANCELARIA,
	CODIGOPEDIDO,
	CODIGOSAP,
	CODIGOSAPALMACEN,
	CODIGOSAPCENTRO,
	CODIGOSAPCLIENTE,
	CODIGOSAPUNIDADMEDIDA,
	CODIGOSAPUNIDADMEDIDACONVERSION,
	CODIGOSAPUNIDADMEDIDAVENTA,
	COMPONENTETEXTO,
	DESCRIPCIONALMACEN,
	DESCRIPCIONCENTRO,
	DESCRIPCIONCOMERCIALPRODUCTO,
	DESCRIPCIONPRODUCTO,
	DESCRIPCIONUNIDADMEDIDA,
	DESCRIPCIONUNIDADMEDIDACONVERSION,
	DESCRIPCIONUNIDADMEDIDAVENTA,
	ENTREGA,
	ESTADO,
	FACTOR,
	FECHADISPONIBILIDAD,
	FECHALISTAPRECIO,
	FOLIO,
	ID,
	IDALMACEN,
	IDCENTRO,
	IDCLIENTE,
	IDCONDICIONPAGO,
	IDDESTINATARIO,
	IDEXPORTACION,
	IDINCOTERM,
	IDLISTAPRECIO,
	IDMONEDA,
	IDMONEDAPEDIDO,
	IDPADRE,
	IDPAISPUERTODESTINO,
	IDPARTIDAARANCELARIA,
	IDPEDIDO,
	IDPOSICION,
	IDPRODUCTO,
	IDPUERTOORIGEN,
	IDRUTA,
	IDUNIDADMEDIDA,
	IDUNIDADMEDIDACONVERSION,
	IDUNIDADMEDIDAVENTA,
	IMPORTE,
	ITEM,
	ITEMSAP,
	MENSAJESAP,
	NOMBREMONEDA,
	NOMBREPARTIDAARANCELARIA,
	PEDIDOSAP,
	PESONOMINAL,
	PESOTONELADA,
	PRECIOUNITARIO,
	PRECIOUNITARIOCONVERSION,
	PRECIOUNITARIOSAP,
	REFERENCIA,
	CODIGOLINEA
	FROM 
	COMEXSVI_EXPORTACIONPEDIDO_02_MARITIMO
	WHERE IDEXPORTACION = #{idExportacion}
  </select> 
  <select id="listarPedidoPosicion" resultMap="pedidoPosicionMap" parameterType="int">	  
	SELECT 
    CANTIDAD,
	CANTIDADSALDO,
	CANTIDADTONELADA,
	CANTIDADVENTA,
	CODIGOLINEA,
	CODIGOMONEDA,
	CODIGOPEDIDO,
	CODIGOSAP,
	CODIGOSAPCLIENTE,
	CODIGOSAPUNIDADMEDIDA,
	CODIGOSAPUNIDADMEDIDAVENTA,
	DESCRIPCIONCOMERCIALPRODUCTO,
	DESCRIPCIONPRODUCTO,
	DESCRIPCIONUNIDADMEDIDA,
	DESCRIPCIONUNIDADMEDIDAVENTA,
	ESTADO,
	FACTOR,
	FECHADISPONIBILIDAD,
	ID,
	IDINCOTERM,
	IDMONEDA,
	IDPADRE,
	IDPEDIDO,
	IDPRODUCTO,
	IDUNIDADMEDIDA,
	IDUNIDADMEDIDAVENTA,
	IMPORTE,
	ITEM,
	NOMBREMONEDA,
	PESONOMINAL,
	PESOTONELADA,
	PRECIOUNITARIO,
	PRECIOUNITARIOSAP,
	UNIDADMEDIDABASE,
	UNIDADMEDIDAVENTA
	FROM 
	COMEXSVI_PEDIDOPOSICION_04_DISPONIBLE
	WHERE ID IS NOT NULL
	<if test="idDespacho != null">
		AND IDDESPACHO = #{idDespacho}
	 </if>
	<if test="codigos != null and codigos.length > 0">
		AND CODIGOPEDIDO IN 
		<foreach collection="codigos" item="item" open="(" close=")" separator=",">
		 UPPER(#{item})
		</foreach>	
	 </if>
	 <if test="clientes != null and clientes.length > 0">
		AND CODIGOSAPCLIENTE IN 
		<foreach collection="clientes" item="item" open="(" close=")" separator=",">
		 #{item}
		</foreach>	
	 </if>
	 AND ROWNUM <![CDATA[ <= ]]>  50
	 ORDER BY IDPEDIDO DESC, ITEM
  </select> 
  <select id="listarComponentexIdPosicion" resultMap="componenteMap" parameterType="int">
  	SELECT
  		ID,
		IDPEDIDO,
		ITEM,
		IDPRODUCTO,
		CODIGOSAP,
		DESCRIPCIONPRODUCTO,
		DESCRIPCIONCOMERCIALPRODUCTO,
		CANTIDAD,
		CANTIDADVENTA,
		FACTOR,
		IDUNIDADMEDIDA,
		CODIGOSAPUNIDADMEDIDA,
		DESCRIPCIONUNIDADMEDIDA,
		IDUNIDADMEDIDAVENTA,
		CODIGOSAPUNIDADMEDIDAVENTA,
		DESCRIPCIONUNIDADMEDIDAVENTA,
		IDCENTRO,
		CODIGOSAPCENTRO,
		DESCRIPCIONCENTRO,
		IDALMACEN,
		CODIGOSAPALMACEN,
		DESCRIPCIONALMACEN,
		PESONOMINAL,
		PESOTONELADA,
		CANTIDADTONELADA,
		FECHADISPONIBILIDAD,
		PRECIOUNITARIO,
		PRECIOUNITARIOSAP,
		IMPORTE,
		IDPADRE,
		ESTADO
	FROM COMEXSVI_PEDIDOPOSICION_03_COMPONENTEMARITIMO
	WHERE ID IS NOT NULL
	<if test="idPosicion != null">
		AND IDPADRE = #{idPosicion}
	</if>
  </select>
  <select id="buscarExportacionMaritimoxId" parameterType="java.util.Map" resultType="int">	 
	 SELECT COUNT(*) FROM COMEXST_EXPORTACION
	 WHERE EXPON_ID=#{id} and EXPON_IDESTADODOCUMENTO=#{estadoDocumento}
  </select>
  
  <select id="listarExportacionFacturaxIdExportacion" resultMap="exportacionFacturaMap" parameterType="int">
  	SELECT * 
  	FROM COMEXSVI_EXPORTACIONFACTURA_01
  	WHERE IDEXPORTACION = #{idExportacion}
  </select>
  
   <update id="actualizarCodigoPacking" parameterType="java.util.Map">
    update COMEXST_EXPORTACION  SET  EXPOV_CODIGOPACKING = #{codigoPacking}
    WHERE EXPON_ID=#{id}
  </update>
  <select id="buscarPedidoPosicion" parameterType="java.util.Map" resultType="int">	  
	 SELECT COUNT(*) FROM COMEXST_PEDIDOEXPORTACIONPOSICION
	 WHERE PEPON_IDPEDIDOPOSICION=#{idPedido} and PEPON_IDEXPORTACIONPEDIDO=#{idExportacion}
	 and PEPON_ESTADO=#{estadoDocumento}
  </select> 
   <select id="obtenerPedidoPosicion" resultMap="exportacionMaritimoPosicionMap" resultType="int">	  
	 SELECT PEPON_ID as ID FROM COMEXST_PEDIDOEXPORTACIONPOSICION
	 WHERE PEPON_IDPEDIDOPOSICION=#{idPedido} and PEPON_IDEXPORTACIONPEDIDO=#{idExportacion}
	 and PEPON_ESTADO=#{estadoDocumento} and ROWNUM <![CDATA[ <= ]]> 1 
  </select>
  <update id="confirmarExportacionMaritimo" parameterType="java.util.Map">
    update COMEXST_EXPORTACION  SET  EXPON_IDESTADODOCUMENTO=#{estadoDocumento},EXPOV_USUARIOMODIFICACION=#{usuario},
    EXPOD_FECHAMODIFICACION=sysdate
    WHERE EXPON_ID=#{id}
  </update>
  <update id="eliminarExportacionMaritimo" parameterType="java.util.Map">
    update COMEXST_EXPORTACION  SET  EXPON_ESTADO=0,EXPOV_USUARIOMODIFICACION=#{usuario},
    EXPOD_FECHAMODIFICACION=sysdate
    WHERE EXPON_ID=#{id}
  </update>
   <select id="obtenerExportacionPedido" resultMap="exportacionMaritimoPosicionMap" resultType="int">	  
	 SELECT EPEDN_ID as ID ,EPEDN_IDPOSICION as IDPOSICION FROM COMEXST_EXPORTACIONPEDIDO
	 WHERE EPEDN_IDEXPORTACION=#{idExportacion}
   </select>
    <update id="eliminarExportacionMaritimoPosicion" parameterType="java.util.Map">
    update COMEXST_PEDIDOEXPORTACIONPOSICION  SET  PEPON_ESTADO=0,PEPOV_USUARIOMODIFICACION=#{usuario},
    PEPOD_FECHAMODIFICACION=sysdate
    WHERE PEPON_IDPEDIDOPOSICION=#{idPosicion} and PEPON_IDEXPORTACIONPEDIDO=#{idExportacion}
  </update>
	<select id="obtenerTotalPedidosEnviados" parameterType="java.util.Map" resultType="int">	  
		SELECT COUNT(*)
		FROM SAPIO.SD_SLS_ERP_115_GUIA_REM_CAB G
		INNER JOIN SAPIO.FI_AR_ERP_001_VENTA_CAB V ON V.VBELN = G.VBELN_FAC
		WHERE G.VGBEL IN (
		    SELECT EP.EPEDV_PEDIDOSAP
		    FROM COMEXSAP.COMEXST_EXPORTACION E
		    INNER JOIN COMEXSAP.COMEXST_EXPORTACIONPEDIDO EP ON EP.EPEDN_IDEXPORTACION = E.EXPON_ID
		    WHERE EP.EPEDV_PEDIDOSAP IS NOT NULL
		    AND EP.EPEDN_ESTADO = 1
		    AND E.EXPON_ESTADO = 1
		    AND E.EXPON_IDTIPOTRANSPORTE = 1
		    AND EXTRACT(YEAR FROM E.EXPOD_FECHACREACION) = #{anio}
		    GROUP BY E.EXPON_ID, EP.EPEDV_PEDIDOSAP
		)
		AND G.VBELN_FAC IS NOT NULL
		AND V.XBLNR NOT LIKE '000000000000%'
	</select>
	<select id="obtenerTotalPedidosTerrestresEnviados" parameterType="java.util.Map" resultType="int">	  
		SELECT COUNT(*)
		FROM COMEXSAP.COMEXST_EXPORTACION
		WHERE EXPON_ESTADO = 1
		AND EXPON_IDFACTURA IS NOT NULL
		AND EXPON_IDTIPOTRANSPORTE = 2
		AND EXTRACT(YEAR FROM EXPOD_FECHACREACION) = #{anio}
	</select>
  <select id="obtenerPedidoFirmeConfirmado" parameterType="java.util.Map" resultType="int">	  
	 SELECT COUNT(*) 
	 FROM COMEXST_PEDIDO 
	 WHERE PEDIN_IDTIPOSOLICITUD = 8
	 AND PEDIN_ESTADO = 1
	 AND PEDIN_IDESTADODOCUMENTO = 6
	 AND EXTRACT(YEAR FROM PEDID_FECHACREACION)=#{anio}
  </select>
  <select id="obtenerTotalExportacion" parameterType="java.util.Map" resultType="int">	  
	SELECT NVL(ROUND(SUM(EP.EPEDN_PESOTONELADA), 0), 0)
	FROM COMEXSAP.COMEXST_EXPORTACION E
	INNER JOIN COMEXSAP.COMEXST_EXPORTACIONPEDIDO EP ON EP.EPEDN_IDEXPORTACION = E.EXPON_ID
	INNER JOIN SAPIO.SD_SLS_ERP_115_GUIA_REM_CAB G ON G.VGBEL = EP.EPEDV_PEDIDOSAP
	INNER JOIN SAPIO.FI_AR_ERP_001_VENTA_CAB V ON V.VBELN = G.VBELN_FAC
	WHERE E.EXPOD_FECHACREACION IS NOT NULL
	AND E.EXPON_ESTADO = 1
	AND EP.EPEDN_ESTADO = 1
	AND EP.EPEDV_PEDIDOSAP IS NOT NULL
	AND G.VBELN_FAC IS NOT NULL
	AND V.XBLNR NOT LIKE '000000000000%'
	AND E.EXPON_IDTIPOTRANSPORTE = #{tipoTransporte}
	AND E.EXPON_IDDESPACHO = #{idDespacho}
	AND EXTRACT(YEAR FROM E.EXPOD_FECHACREACION) = #{anio}
	AND EXTRACT(MONTH FROM E.EXPOD_FECHACREACION) = #{mes}
  </select>
   <select id="listarPuertoDestino" resultMap="exportacionMaritimoMap" >	  
	SELECT DISTINCT EXPON_IDPUERTODESTINO idPuertoDestino,COUNT(EXPON_IDPUERTODESTINO) totalPuertoDestino FROM COMEXST_EXPORTACION WHERE EXPON_IDESTADODOCUMENTO=#{estadoDocumento}
	AND EXPON_IDPUERTODESTINO IS NOT NULL AND EXTRACT(YEAR FROM EXPOD_FECHACREACION)=#{anio}
	GROUP BY EXPON_IDPUERTODESTINO
  </select>
  <select id="obtenerPaisExportacion" resultMap="exportacionMaritimoMap">	  
	SELECT 
	    PD.PUERN_IDPAIS idPaisPuertoDestino,
	    PAD.DESCRIPCION puertoDestino,
	    NVL(ROUND(SUM(EP.EPEDN_PESOTONELADA), 0), 0) AS totalPuertoDestino
	FROM COMEXSAP.COMEXST_EXPORTACION E
	INNER JOIN COMEXSAP.COMEXST_EXPORTACIONPEDIDO EP ON EP.EPEDN_IDEXPORTACION = E.EXPON_ID
	INNER JOIN SAPIO.SD_SLS_ERP_115_GUIA_REM_CAB G ON G.VGBEL = EP.EPEDV_PEDIDOSAP
	INNER JOIN SAPIO.FI_AR_ERP_001_VENTA_CAB V ON V.VBELN = G.VBELN_FAC
	INNER JOIN COMEXSAP.COMEXST_PUERTO PD ON PD.PUERN_ID = E.EXPON_IDPUERTODESTINO
	INNER JOIN COMEXSAP.CONFIGT_PARAMETRO PAD ON PAD.ID_PARAMETRO = PD.PUERN_IDPAIS
	WHERE E.EXPON_ESTADO = 1
	AND EP.EPEDN_ESTADO = 1
	AND EP.EPEDV_PEDIDOSAP IS NOT NULL
	AND G.VBELN_FAC IS NOT NULL
	AND V.XBLNR NOT LIKE '000000000000%'
	AND EXTRACT(YEAR FROM E.EXPOD_FECHACREACION) = #{anio}
	GROUP BY PD.PUERN_IDPAIS, PAD.DESCRIPCION
  </select>
  <select id="obtenerFacturaSap" resultMap="facturaSapMap" parameterType="java.util.Map">
    SELECT
	    T.PEDIDOSAP,
	    T.CODIGOSAP,
	    A.XBLNR AS FOLIO,
	    A.FKDAT AS FECHA,
	    A.FKART AS CLASE,
	    A.FLETE,
	    A.SEGURO,
	    T.IMPORTEPOSICIONES,
	    T.FLETEPOSICIONES,
	    T.SEGUROPOSICIONES
	FROM (
	    SELECT
	        G.VGBEL         AS PEDIDOSAP,
	        G.VBELN_FAC     AS CODIGOSAP,
	        SUM(V.NETWR)    AS IMPORTEPOSICIONES,
	        SUM(V.FLETE)    AS FLETEPOSICIONES,
	        SUM(V.SEGURO)   AS SEGUROPOSICIONES
	    FROM SAPIO.SD_SLS_ERP_115_GUIA_REM_CAB G
	    INNER JOIN SAPIO.FI_AR_ERP_001_VENTA_DET V ON V.VBELN = G.VBELN_FAC
	    WHERE G.VGBEL = #{pedidoSap}
	    GROUP BY G.VGBEL, G.VBELN_FAC
	) T
	INNER JOIN SAPIO.FI_AR_ERP_001_VENTA_CAB A ON A.VBELN = T.CODIGOSAP
	WHERE A.XBLNR NOT LIKE '000000000000%'
	AND ROWNUM <![CDATA[ <= ]]> 1 
  </select>
  <select id="obtenerEntregaSap" resultMap="entregaSapMap" parameterType="java.util.Map">
  	SELECT
        G.VGBEL         AS PEDIDOSAP,
        G.VBELN_ORD_ENT AS ENTREGA
    FROM SAPIO.SD_SLS_ERP_115_GUIA_REM_CAB G
    WHERE G.VGBEL = #{pedidoSap} AND ROWNUM <![CDATA[ <= ]]> 1 
  </select>
  <select id="obtenerNumeroPedidoSAP" parameterType="java.util.Map" resultType="String">
  	SELECT PECAV_ID_NUMERO_PEDIDO 
	FROM SAPIO.SCOGVST_PEDIDO_CABECERA
	WHERE PECAV_ORG_VENTAS = #{orgVentas}
	    AND PECAV_CANAL_DIST = #{canalDist}
	    AND PECAV_SECTOR = #{sector}
	    AND PECAV_CLASE_PEDIDO = #{tipoDoc}
	    AND PECAV_RUTA_CODIGO_ZONA = #{zonaVentas}
	    AND PECAV_RUTA_COD_GRUPO_VENDEDOR = #{grupoVend}
	    AND PECAV_CODIGO_COTIZACION = #{cotizacion}
	    AND ROWNUM <![CDATA[ <= ]]> 1
  </select>
  <update id="eliminarExportacionFactura" parameterType="java.util.Map">
    UPDATE COMEXSAP.COMEXST_EXPORTACIONFACTURA
    SET
    	EFACN_ESTADO = 0,
    	EFACV_USUARIOMODIFICACION = #{usuario},
		EFACD_FECHAMODIFICACION = SYSDATE
    WHERE EFACN_IDEXPORTACION = #{idExportacion}
  </update>
</mapper>